<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂõΩÊóó„ÇØ„Ç§„Ç∫</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .flag {
            width: 200px;
            height: 133px;
            border: 3px solid #333;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        /* Êó•Êú¨ */
        .flag-japan {
            background: white;
        }
        .flag-japan::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 60px;
            background: #d60012;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        /* „Ç¢„É°„É™„Ç´ */
        .flag-usa {
            background: linear-gradient(to bottom, 
                #b22234 0%, #b22234 7.7%, 
                white 7.7%, white 15.4%, 
                #b22234 15.4%, #b22234 23.1%, 
                white 23.1%, white 30.8%, 
                #b22234 30.8%, #b22234 38.5%, 
                white 38.5%, white 46.2%, 
                #b22234 46.2%, #b22234 53.9%, 
                white 53.9%, white 61.6%, 
                #b22234 61.6%, #b22234 69.3%, 
                white 69.3%, white 77%, 
                #b22234 77%, #b22234 84.7%, 
                white 84.7%, white 92.4%, 
                #b22234 92.4%);
        }
        .flag-usa::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 76px;
            height: 54px;
            background: #3c3b6e;
        }

        /* „Éï„É©„É≥„Çπ */
        .flag-france {
            background: linear-gradient(to right, #0055a4 33.33%, white 33.33%, white 66.66%, #ef4135 66.66%);
        }

        /* „Éâ„Ç§„ÉÑ */
        .flag-germany {
            background: linear-gradient(to bottom, black 33.33%, #dd0000 33.33%, #dd0000 66.66%, #ffce00 66.66%);
        }

        /* „Ç§„ÇÆ„É™„Çπ */
        .flag-uk {
            background: #012169;
            background-image: 
                linear-gradient(45deg, white 0%, white 20%, transparent 20%, transparent 80%, white 80%),
                linear-gradient(-45deg, white 0%, white 20%, transparent 20%, transparent 80%, white 80%),
                linear-gradient(90deg, white 40%, #c8102e 40%, #c8102e 60%, white 60%),
                linear-gradient(0deg, white 40%, #c8102e 40%, #c8102e 60%, white 60%);
        }

        /* „Ç§„Çø„É™„Ç¢ */
        .flag-italy {
            background: linear-gradient(to right, #009246 33.33%, white 33.33%, white 66.66%, #ce2b37 66.66%);
        }

        /* „Çπ„Éö„Ç§„É≥ */
        .flag-spain {
            background: linear-gradient(to bottom, #aa151b 25%, #f1bf00 25%, #f1bf00 75%, #aa151b 75%);
        }

        /* „Ç´„Éä„ÉÄ */
        .flag-canada {
            background: linear-gradient(to right, #ff0000 25%, white 25%, white 75%, #ff0000 75%);
        }
        .flag-canada::after {
            content: 'üçÅ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 60px;
            color: #ff0000;
        }

        /* „Ç™„Éº„Çπ„Éà„É©„É™„Ç¢ */
        .flag-australia {
            background: #00008b;
        }
        .flag-australia::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            width: 60px;
            height: 40px;
            background-image: 
                linear-gradient(45deg, white 0%, white 20%, transparent 20%, transparent 80%, white 80%),
                linear-gradient(-45deg, white 0%, white 20%, transparent 20%, transparent 80%, white 80%),
                linear-gradient(90deg, white 40%, #c8102e 40%, #c8102e 60%, white 60%),
                linear-gradient(0deg, white 40%, #c8102e 40%, #c8102e 60%, white 60%);
            background-color: #012169;
        }

        /* „Éñ„É©„Ç∏„É´ */
        .flag-brazil {
            background: #009b3a;
        }
        .flag-brazil::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 140px;
            height: 80px;
            background: #fedf00;
            transform: translate(-50%, -50%) rotate(45deg);
            border-radius: 50%;
        }

        /* ÈüìÂõΩ */
        .flag-korea {
            background: white;
        }
        .flag-korea::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 40px;
            background: radial-gradient(circle at 30% 50%, #c70025 30%, #003478 30%);
            border-radius: 50px;
            transform: translate(-50%, -50%);
        }

        /* ‰∏≠ÂõΩ */
        .flag-china {
            background: #de2910;
        }
        .flag-china::after {
            content: '‚òÖ';
            position: absolute;
            top: 20px;
            left: 30px;
            color: #ffde00;
            font-size: 30px;
        }

        /* „Ç§„É≥„Éâ */
        .flag-india {
            background: linear-gradient(to bottom, #ff9933 33.33%, white 33.33%, white 66.66%, #138808 66.66%);
        }
        .flag-india::after {
            content: '‚ò∏';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
            color: #000080;
        }

        /* „É≠„Ç∑„Ç¢ */
        .flag-russia {
            background: linear-gradient(to bottom, white 33.33%, #0039a6 33.33%, #0039a6 66.66%, #d52b1e 66.66%);
        }

        /* „É°„Ç≠„Ç∑„Ç≥ */
        .flag-mexico {
            background: linear-gradient(to right, #006847 33.33%, white 33.33%, white 66.66%, #ce1126 66.66%);
        }
        .flag-mexico::after {
            content: 'ü¶Ö';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }

        .choice-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .choice-btn.correct {
            background: linear-gradient(45deg, #00b894, #00a085);
            animation: correctAnswer 0.6s ease;
        }

        .choice-btn.incorrect {
            background: linear-gradient(45deg, #d63031, #b71c1c);
            animation: incorrectAnswer 0.6s ease;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
        }

        .next-btn {
            background: linear-gradient(45deg, #0984e3, #74b9ff);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .result {
            font-size: 20px;
            margin: 20px 0;
            font-weight: bold;
        }

        .correct-result { color: #00b894; }
        .incorrect-result { color: #d63031; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè≥Ô∏è ÂõΩÊóó„ÇØ„Ç§„Ç∫ üè≥Ô∏è</h1>
        <div class="score">„Çπ„Ç≥„Ç¢: <span id="score">0</span>/<span id="total">0</span></div>
        <div class="flag" id="flag"></div>
        <div class="choices" id="choices"></div>
        <div class="result" id="result"></div>
        <button class="next-btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">Ê¨°„ÅÆÂïèÈ°å</button>
    </div>

    <script>
        const flags = [
            { flagClass: 'flag-japan', country: 'Êó•Êú¨', choices: ['Êó•Êú¨', '‰∏≠ÂõΩ', 'ÈüìÂõΩ'] },
            { flagClass: 'flag-usa', country: '„Ç¢„É°„É™„Ç´', choices: ['„Ç¢„É°„É™„Ç´', '„Ç´„Éä„ÉÄ', '„Ç§„ÇÆ„É™„Çπ'] },
            { flagClass: 'flag-france', country: '„Éï„É©„É≥„Çπ', choices: ['„Éï„É©„É≥„Çπ', '„Ç§„Çø„É™„Ç¢', '„Ç™„É©„É≥„ÉÄ'] },
            { flagClass: 'flag-germany', country: '„Éâ„Ç§„ÉÑ', choices: ['„Éâ„Ç§„ÉÑ', '„Éô„É´„ÇÆ„Éº', '„Ç™„Éº„Çπ„Éà„É™„Ç¢'] },
            { flagClass: 'flag-uk', country: '„Ç§„ÇÆ„É™„Çπ', choices: ['„Ç§„ÇÆ„É™„Çπ', '„Ç™„Éº„Çπ„Éà„É©„É™„Ç¢', '„Éã„É•„Éº„Ç∏„Éº„É©„É≥„Éâ'] },
            { flagClass: 'flag-italy', country: '„Ç§„Çø„É™„Ç¢', choices: ['„Ç§„Çø„É™„Ç¢', '„Ç¢„Ç§„É´„É©„É≥„Éâ', '„Éè„É≥„Ç¨„É™„Éº'] },
            { flagClass: 'flag-spain', country: '„Çπ„Éö„Ç§„É≥', choices: ['„Çπ„Éö„Ç§„É≥', '„Éù„É´„Éà„Ç¨„É´', '„É°„Ç≠„Ç∑„Ç≥'] },
            { flagClass: 'flag-canada', country: '„Ç´„Éä„ÉÄ', choices: ['„Ç´„Éä„ÉÄ', '„Ç¢„É°„É™„Ç´', '„Ç§„ÇÆ„É™„Çπ'] },
            { flagClass: 'flag-australia', country: '„Ç™„Éº„Çπ„Éà„É©„É™„Ç¢', choices: ['„Ç™„Éº„Çπ„Éà„É©„É™„Ç¢', '„Ç§„ÇÆ„É™„Çπ', '„Éã„É•„Éº„Ç∏„Éº„É©„É≥„Éâ'] },
            { flagClass: 'flag-brazil', country: '„Éñ„É©„Ç∏„É´', choices: ['„Éñ„É©„Ç∏„É´', '„Ç¢„É´„Çº„É≥„ÉÅ„É≥', '„Ç≥„É≠„É≥„Éì„Ç¢'] },
            { flagClass: 'flag-korea', country: 'ÈüìÂõΩ', choices: ['ÈüìÂõΩ', 'Êó•Êú¨', '‰∏≠ÂõΩ'] },
            { flagClass: 'flag-china', country: '‰∏≠ÂõΩ', choices: ['‰∏≠ÂõΩ', 'Êó•Êú¨', '„Éô„Éà„Éä„É†'] },
            { flagClass: 'flag-india', country: '„Ç§„É≥„Éâ', choices: ['„Ç§„É≥„Éâ', '„Éê„É≥„Ç∞„É©„Éá„Ç∑„É•', '„Éë„Ç≠„Çπ„Çø„É≥'] },
            { flagClass: 'flag-russia', country: '„É≠„Ç∑„Ç¢', choices: ['„É≠„Ç∑„Ç¢', '„ÉÅ„Çß„Ç≥', '„Çπ„É≠„Éê„Ç≠„Ç¢'] },
            { flagClass: 'flag-mexico', country: '„É°„Ç≠„Ç∑„Ç≥', choices: ['„É°„Ç≠„Ç∑„Ç≥', '„Ç§„Çø„É™„Ç¢', '„Ç¢„Ç§„É´„É©„É≥„Éâ'] }
        ];

        let currentQuestion = 0;
        let score = 0;
        let total = 0;
        let answered = false;

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function displayQuestion() {
            if (currentQuestion >= flags.length) {
                showFinalResult();
                return;
            }

            const current = flags[currentQuestion];
            const flagElement = document.getElementById('flag');
            flagElement.className = 'flag ' + current.flagClass;
            flagElement.textContent = '';
            
            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';
            
            const shuffledChoices = shuffleArray(current.choices);
            
            shuffledChoices.forEach(choice => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = choice;
                button.onclick = () => selectAnswer(choice, current.country);
                choicesContainer.appendChild(button);
            });

            document.getElementById('result').textContent = '';
            document.getElementById('nextBtn').style.display = 'none';
            answered = false;
        }

        function selectAnswer(selected, correct) {
            if (answered) return;
            
            answered = true;
            total++;
            
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'none';
                if (btn.textContent === correct) {
                    btn.classList.add('correct');
                } else if (btn.textContent === selected && selected !== correct) {
                    btn.classList.add('incorrect');
                }
            });

            const resultDiv = document.getElementById('result');
            if (selected === correct) {
                score++;
                resultDiv.textContent = 'Ê≠£Ëß£ÔºÅüéâ';
                resultDiv.className = 'result correct-result';
            } else {
                resultDiv.textContent = `‰∏çÊ≠£Ëß£... Ê≠£Ëß£„ÅØ„Äå${correct}„Äç„Åß„Åô`;
                resultDiv.className = 'result incorrect-result';
            }

            document.getElementById('score').textContent = score;
            document.getElementById('total').textContent = total;
            document.getElementById('nextBtn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestion++;
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'auto';
                btn.classList.remove('correct', 'incorrect');
            });
            displayQuestion();
        }

        function showFinalResult() {
            const percentage = Math.round((score / total) * 100);
            let message = '';
            let emoji = '';

            if (percentage >= 90) {
                message = 'Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅÂõΩÊóóÂçöÂ£´„Åß„Åô„Å≠ÔºÅüèÜ';
                emoji = 'üéâ';
            } else if (percentage >= 70) {
                message = '„Çà„Åè„Åß„Åç„Åæ„Åó„ÅüÔºÅüëè';
                emoji = 'üòä';
            } else if (percentage >= 50) {
                message = '„Åæ„Åö„Åæ„Åö„Åß„ÅôÔºÅ„ÇÇ„ÅÜÂ∞ë„ÅóÈ†ëÂºµ„Çä„Åæ„Åó„Çá„ÅÜÔºÅ';
                emoji = 'üòê';
            } else {
                message = '„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅüìö';
                emoji = 'üòÖ';
            }

            const flagElement = document.getElementById('flag');
            flagElement.className = 'flag';
            flagElement.innerHTML = `<div style="font-size: 60px;">${emoji}</div>`;
            
            document.getElementById('choices').innerHTML = `
                <div style="font-size: 24px; color: #333; margin: 20px 0;">
                    ${message}<br>
                    ÊúÄÁµÇ„Çπ„Ç≥„Ç¢: ${score}/${total} (${percentage}%)
                </div>
                <button class="choice-btn" onclick="restartGame()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§</button>
            `;
            
            document.getElementById('result').textContent = '';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function restartGame() {
            currentQuestion = 0;
            score = 0;
            total = 0;
            answered = false;
            
            // ÂïèÈ°å„Çí„Ç∑„É£„ÉÉ„Éï„É´
            for (let i = flags.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [flags[i], flags[j]] = [flags[j], flags[i]];
            }
            
            document.getElementById('score').textContent = '0';
            document.getElementById('total').textContent = '0';
            displayQuestion();
        }

        // „Ç≤„Éº„É†ÈñãÂßãÊôÇ„Å´ÂïèÈ°å„Çí„Ç∑„É£„ÉÉ„Éï„É´
        for (let i = flags.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [flags[i], flags[j]] = [flags[j], flags[i]];
        }

        // ÊúÄÂàù„ÅÆÂïèÈ°å„ÇíË°®Á§∫
        displayQuestion();
    </script>
</body>
</html>